<header class="header">
  <h1 class="header__logo">MyPhoneBook</h1>
  <a href="#" class="exit" *ngIf="currentUser" (click)="logout()">Exit</a>
</header>
<div class="unauthorized-screen" *ngIf="!currentUser">
  <div class="row">
    <div class="row__col">
      <app-register-form></app-register-form>
    </div>
    <div class="row__col">
      <app-login-form></app-login-form>
    </div>
  </div>
</div>
<div class="authorized-screen" *ngIf="currentUser">
  <div class="row authorized">
    <div class="contacts">
      <h2 class="form__header">My Contacts</h2>
      <ul class="my-contacts-list">
        <li
          class="my-contacts-list-item"
          *ngFor="let contact of filteredContacts"
          [class.active-contact]="activeContact === contact"
          (click)="setToActive(contact)"
        >
          {{ contact.name
          }}<button class="delete-btn" (click)="deleteContact(contact)">
            x
          </button>
        </li>
      </ul>
    </div>
    <div class="wrapper">
      <h2 class="form__header">Chosen contact</h2>
      <div class="chosen-contact" *ngIf="activeContact">
        <div class="my-contacts-list-item chosen">{{ activeContact.name }}</div>
        <div class="my-contacts-list-item chosen">{{ activeContact.type }}</div>
        <div class="my-contacts-list-item chosen">
          {{ activeContact.value }}
        </div>
      </div>
    </div>
    <div class="wrapper">
      <h2 class="form__header">Find contact</h2>
      <form class="find-contact">
        <select name="searchType" id="find-type" [(ngModel)]="searchType">
          <option value="find-by-name">Name</option>
          <option value="find-by-value">Phone/Email</option>
        </select>
        <input
          required
          type="text"
          id="searchInput"
          placeholder="Search..."
          [(ngModel)]="searchText"
          name="searchText"
        />
        <button
          type="submit"
          class="btn_success find-btn"
          (click)="showFilteredContacts()"
        >
          Find
        </button>
        <button
          type="reset"
          class="btn_success reset-btn"
          (click)="resetFindContact()"
        >
          Reset
        </button>
      </form>
    </div>

    <div class="adding-contacts">
      <form class="form add-contact-form">
        <h2 class="form__header">Add Contacts</h2>
        <div class="form__body">
          <div class="form__control my-contacts">
            <input
              required
              type="text"
              placeholder="Name"
              id="contact-name"
              name="name"
              [(ngModel)]="contact.name"
            />
            <select id="options" [(ngModel)]="contact.type" name="type">
              <option value="phone" *ngFor="let type of types" [ngValue]="type">
                {{ type }}
              </option>
              <!-- <option value="email">Email</option> -->
            </select>
            <input
              required
              type="text"
              id="contact"
              placeholder="Phone/Email"
              name="value"
              [(ngModel)]="contact.value"
            />
            <button
              type="submit"
              class="btn_success"
              (click)="addContact(contact.name, contact.type, contact.value)"
            >
              Add
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
<app-modal></app-modal>
